import{a as j}from"./chunk-AVH3GTM3.js";import{c as T}from"./chunk-BSY6DPP7.js";import{h as D,j as $,l as N,o as k,w as R}from"./chunk-PLZ2TRKD.js";import{Ab as f,Bb as g,Db as P,Eb as I,Fb as h,Gb as u,Ua as c,Va as s,X as x,bc as S,cc as E,dc as y,ea as O,ec as F,fc as w,ib as _,kb as d,nb as o,ob as i,p,t as C,tb as v,z as M,zb as n}from"./chunk-2CVCSYUE.js";var L=r=>["/characters",r];function b(r,a){if(r&1&&(o(0,"li")(1,"a",3),n(2),i()()),r&2){let l=a.$implicit;c(),d("routerLink",I(2,L,l.id)),c(),f(l.name)}}function A(r,a){if(r&1&&(o(0,"div",1)(1,"h2"),n(2),i(),o(3,"p")(4,"strong"),n(5,"Director:"),i(),n(6),i(),o(7,"p")(8,"strong"),n(9,"Producer:"),i(),n(10),i(),o(11,"p")(12,"strong"),n(13,"Release Date:"),i(),n(14),h(15,"date"),i(),o(16,"p")(17,"strong"),n(18,"Opening Crawl:"),i()(),o(19,"p"),n(20),i(),o(21,"h3"),n(22,"Characters:"),i(),o(23,"ul"),_(24,b,3,4,"li",2),h(25,"async"),i()()),r&2){let l=a.ngIf,e=v();c(2),f(l.title),c(4),g(" ",l.director,""),c(4),g(" ",l.producer,""),c(4),g(" ",u(15,6,l.release_date),""),c(6),f(l.opening_crawl),c(4),d("ngForOf",u(25,8,e.characterNames$))}}var Y=(()=>{let a=class a{constructor(e,t,m){this.route=e,this.store=t,this.swapiService=m,this.film$=p(null),this.characterNames$=p([])}ngOnInit(){this.film$=this.route.paramMap.pipe(x(e=>{let t=e.get("id");if(t)return this.store.dispatch(R({apiType:"film",id:t})),this.store.select(T);throw new Error("Film ID not found")})),this.characterNames$=this.film$.pipe(x(e=>{if(e&&e.characters){let t=e.characters.map(m=>this.swapiService.getCharacter(this.extractId(m)).pipe(C(B=>({name:B.name,id:this.extractId(m)}))));return M(t)}return p([])}))}extractId(e){let t=e.match(/people\/(\d+)/);return t?t[1]:""}};a.\u0275fac=function(t){return new(t||a)(s(D),s(k),s(j))},a.\u0275cmp=O({type:a,selectors:[["app-film-details"]],standalone:!0,features:[P],decls:2,vars:3,consts:[["class","film-details",4,"ngIf"],[1,"film-details"],[4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink"]],template:function(t,m){t&1&&(_(0,A,26,10,"div",0),h(1,"async")),t&2&&d("ngIf",u(1,1,m.film$))},dependencies:[w,S,E,y,F,N,$],styles:[".film-details[_ngcontent-%COMP%]{color:#ffe81f;text-align:center;padding-left:15px}.film-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:20px 0}.film-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.film-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:20px 0}.film-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.film-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;transition:color .3s,transform .3s}.film-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;transform:scale(1.05)}.film-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-top:20px}"]});let r=a;return r})();export{Y as FilmDetailsComponent};
